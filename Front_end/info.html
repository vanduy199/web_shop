<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FunPhone</title>
        <link
            rel="shortcut icon"
            href="./assets/img/favicon.png"
            type="image/x-icon"
        />
        <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

        <!-- Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
        <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500&display=swap"
            rel="stylesheet"
        />

        <!-- Rest CSS -->
        <link rel="stylesheet" href="./assets/css/reset.css" />
        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous"
        />
        <!-- Slick Slider -->
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
        />
        <!-- Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
            integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <!-- CSS -->
        <link rel="stylesheet" href="./assets/css/styles.css" />
        <link rel="stylesheet" href="./assets/css/infoProduct.css" />
        <link rel="stylesheet" href="./assets/css/responsive.css" />
        <link rel="stylesheet" href="./assets/css/search-results.css" />
        <link rel="stylesheet" href="./assets/css/phone.css" />
        
        <!-- Specifications CSS - Completely Redesigned -->
        <style>
            #specifications {
                margin: 15px 0;
            }

            .spec-group {
                margin-bottom: 8px;
                border-radius: 6px;
                overflow: hidden;
                background: #fff;
                border: 1px solid #ddd;
                transition: all 0.2s ease;
            }

            .spec-group:hover {
                border-color: #d70018;
                box-shadow: 0 2px 6px rgba(215, 0, 24, 0.1);
            }

            .spec-header {
                padding: 10px 14px;
                background: #f5f5f5;
                cursor: pointer;
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-weight: 600;
                color: #333;
                font-size: 16px;
                user-select: none;
                border-left: 4px solid #d70018;
                transition: all 0.2s ease;
            }

            .spec-header:hover {
                background: #efefef;
            }

            .spec-header.active {
                background: #d70018;
                color: white;
            }

            .spec-header::after {
                content: '⊕';
                font-size: 16px;
                transition: transform 0.2s ease;
                display: flex;
                align-items: center;
            }

            .spec-header.active::after {
                content: '⊖';
            }

            .spec-content {
                display: none;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease;
            }

            .spec-content.show {
                display: block;
                max-height: 1500px;
            }

            .spec-items-wrapper {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0;
            }

            .spec-item {
                padding: 8px 12px;
                border-bottom: 1px solid #f0f0f0;
                border-right: 1px solid #f0f0f0;
                font-size: 15px;
                transition: background 0.2s ease;
            }

            .spec-item:nth-child(2n) {
                border-right: none;
            }

            .spec-item:hover {
                background: #fafafa;
            }

            .spec-item:nth-last-child(n+3) {
                border-bottom: 1px solid #f0f0f0;
            }

            .spec-item:nth-last-child(1),
            .spec-item:nth-last-child(2) {
                border-bottom: none;
            }

            .spec-key {
                font-weight: 600;
                color: #666;
                margin-bottom: 3px;
                font-size: 14px;
            }

            .spec-value {
                color: #333;
                line-height: 1.4;
                font-size: 15px;
            }

            /* Tách các tính năng thành từng dòng */
            .spec-value-item {
                display: block;
                padding: 3px 0;
            }

            /* Tablet: 1 column */
            @media (max-width: 1024px) {
                .spec-items-wrapper {
                    grid-template-columns: 1fr;
                }

                .spec-item:nth-child(2n) {
                    border-right: 1px solid #f0f0f0;
                }

                .spec-item:nth-last-child(1) {
                    border-bottom: none;
                }

                .spec-item:nth-last-child(2) {
                    border-bottom: 1px solid #f0f0f0;
                }
            }

            /* Mobile */
            @media (max-width: 768px) {
                .spec-group {
                    margin-bottom: 6px;
                }

                .spec-header {
                    padding: 8px 12px;
                    font-size: 15px;
                    border-left-width: 3px;
                }

                .spec-item {
                    padding: 6px 10px;
                    font-size: 14px;
                }

                .spec-key {
                    font-size: 13px;
                    margin-bottom: 2px;
                }

                .spec-value {
                    font-size: 14px;
                }

                .spec-items-wrapper {
                    grid-template-columns: 1fr;
                }

                .spec-item:nth-child(2n) {
                    border-right: none;
                }
            }
        </style>
        <!-- JS -->
        <script src="./assets/js/main.js"></script>
    </head>
    <body>
           <!-- Header Placeholder -->
        <div id="header-placeholder"></div>

        <main>
            <section
                class="search-result container fix-phone__inner py-3 px-5 d-none"
            >
                <h2 class="col-lg-3 section__heading">KẾT QUẢ TÌM KIẾM</h2>
                <div class="row">
                    <!-- <div class="row search-result__product col-3" id="smartphones-list">
                        <div class="col-lg product__item col-md-4 col-6 my-3">
                            <div class="product__media">
                                <img
                                    src="./assets/img/man_hinh_iphone7plus.jpg"
                                    alt=""
                                    class="product__media-img"
                                />
                                <span class="product__media-note">
                                    <p>BẢO HÀNH 6 THÁNG</p>
                                    <p>Sửa 1 giờ</p>
                                </span>
                                <div class="product__media-promotion">-10%</div>
                            </div>
                            <div class="product__info">
                                <h3>Thay màn hình iPhone 7 Plus chính hãng Pisen V3</h3>
                                <div class="product__price">
                                    <span>1350000</span><span class="line-through">1500000</span>
                                </div>
                                <p class="product__desc">
                                    <strong>Tặng áo mưa khi thay pin, màn hình Pisen số lượng có hạn</strong>
                                </p>
                            </div>
                        </div>
                    </div> -->
                </div>
            </section>
            <div class="container">
                <div class="info info-product">
                    <h1 class="info__heading">
                        
                    </h1>
                    <div class="info__content row">
                        <div class="info__left col-md-7">
                            <div class="swiper mySwiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide"><img id = "img1" class = "info__left-image"/></div>
                                <div class="swiper-slide"><img id = "img2"  class = "info__left-image"/></div>
                                <div class="swiper-slide"><img id = "img3"  class = "info__left-image"/></div>
                                <div class="swiper-slide"><img id = "img4"  class = "info__left-image"/></div>
                                <div class="swiper-slide"><img id = "img5" class = "info__left-image"/></div>
                            </div>
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                            <div class="swiper-pagination"></div>
                            </div>
                        </div>

                        <div class="info__right col-md-5">
                            <h2 class="info__right-title"></h2>
                            <div class="info__right-price product__price">
                               
                            </div>
                            <div class="info__right-timing">
                                <h2>
                                    <i
                                        class="fa-regular fa-clock info__right-icon"
                                    >
                                    </i>
                                    Thời gian giao hàng  dự kiến: 1 ngày
                                </h2>
                            </div>
                            <div class="info__right-groupbtn row">
                                <button
                                    class="groupbtn__order col-lg-6 col-md-6 col"
                                >
                                    <i class="fa fa-calendar"></i> ĐẶT MUA
                                </button>
                                <button
                                    class="groupbtn__cart col-lg-5 col-md-4 col"
                                >
                                    <i
                                        class="fa fa-shopping-cart"
                                        style="font-size: 3em"
                                    ></i>
                                    <br />Thêm vào giỏ
                                </button>
                            </div>
                            <div class="info__right-promotion">
                                <h2 class="promotion__title">
                                    <i
                                        class="fa-solid fa-gift"
                                        style="color: #f19729"
                                    ></i>
                                    KHUYẾN MÃI
                                </h2>

                                <ul class="promotion__list">
                                    <li>Giảm ngay 5% cho thành viên</li>
                                    <li>Học sinh, sinh viên giảm 10%</li>
                                    <li>Nhiều quà tặng hấp dẫn khác</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <hr />
                    <h2>Cấu hình chi tiết</h2>
                    <div id="specifications"></div>
                    
                    <hr />
                    <h2 style="color: #d70018; margin-bottom: 20px;">
                        <i class="fa-solid fa-lightbulb" style="color: #f19729;"></i> NHỮNG SẢN PHẨM TƯƠNG TỰ
                    </h2>
                    <div id="recommendationsContainer_product" style="background: #f9f9f9; padding: 5px; border-radius: 10px; margin-bottom: 30px;">
                        <p style="text-align: center; color: #999;">Đang tải gợi ý sản phẩm...</p>
                    </div>
                      <!-- Điểm trung bình -->
                    <div class="rating-summary">
                        <span id="average-rating" class="avg">0</span> / 5 ⭐
                        <p><span id="rating-count">0</span> lượt đánh giá</p>
                    </div>

                    <!-- Biểu đồ tỷ lệ sao -->
                    <div class="rating-breakdown">
                        <div class="rating-bar"><span>5 sao</span> <progress id="bar-5" max="100" value="0"></progress> (<span id="count-5">0</span>)</div>
                        <div class="rating-bar"><span>4 sao</span> <progress id="bar-4" max="100" value="0"></progress> (<span id="count-4">0</span>)</div>
                        <div class="rating-bar"><span>3 sao</span> <progress id="bar-3" max="100" value="0"></progress> (<span id="count-3">0</span>)</div>
                        <div class="rating-bar"><span>2 sao</span> <progress id="bar-2" max="100" value="0"></progress> (<span id="count-2">0</span>)</div>
                        <div class="rating-bar"><span>1 sao</span> <progress id="bar-1" max="100" value="0"></progress> (<span id="count-1">0</span>)</div>
                    </div>
                    </div>
                    <hr />
                    <h2 style="font-weight: 700; color: #d70018; font-size: 20px;">
                        <i class="fa-regular fa-circle-question" style="color: #f5193a"></i>
                        HỎI VÀ ĐÁP
                    </h2>
                    <br />

                    <!-- Comment Form + Rating on 1 line -->
                    <div class="comment-rating-wrapper">
                        <div class="comment-section">
                            <textarea
                                id="commentInput"
                                rows="2"
                                placeholder="Vui lòng để lại câu hỏi, chúng tôi sẽ phản hồi sớm nhất"
                            ></textarea>
                            <button
                                id="sendCommentBtn"
                                style="color: white; background-color: #d70018; border: none; width: 100%; padding: 10px;"
                            >
                                <i class="fa-solid fa-paper-plane"></i> Gửi
                            </button>
                        </div>

                        <div class="rating-form-inline" id="rating-section">
                            <h4>Đánh giá:</h4>
                            <div id="user-stars" class="stars">
                                <i class="fa-regular fa-star" data-value="1"></i>
                                <i class="fa-regular fa-star" data-value="2"></i>
                                <i class="fa-regular fa-star" data-value="3"></i>
                                <i class="fa-regular fa-star" data-value="4"></i>
                                <i class="fa-regular fa-star" data-value="5"></i>
                            </div>
                            <button id="submit-rating" class="btn btn-danger" style="width: 100%; padding: 10px;">Gửi đánh giá</button>
                        </div>
                    </div>

                    <hr />
                    <div id="reviewsContainer"></div>

                    <hr />
                    
                    <div id="rating-section-stats" class="rating-container">
  <h3>Đánh giá sản phẩm</h3>



<style>
.comment-rating-wrapper {
  display: flex;
  gap: 20px;
  margin: 20px 0;
}

.comment-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.comment-section textarea {
  flex: 1;
  min-height: 80px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-family: Arial, sans-serif;
  font-size: 14px;
}

.rating-form-inline {
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
  justify-content: center;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 6px;
  min-width: 180px;
}

.rating-form-inline h4 {
  margin: 0;
  font-size: 14px;
  font-weight: 600;
  color: #333;
}

.stars {
  display: flex;
  gap: 5px;
}

.stars i {
  font-size: 24px;
  color: #ccc;
  cursor: pointer;
  transition: all 0.2s;
}

.stars i:hover {
  color: #f39c12;
  transform: scale(1.2);
}

.stars i.fa-solid {
  color: #f39c12;
}

#submit-rating {
  background: #d70018;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  transition: background 0.3s;
}

#submit-rating:hover {
  background: #c60015;
}

@media (max-width: 768px) {
  .comment-rating-wrapper {
    flex-direction: column;
  }
  
  .rating-form-inline {
    width: 100%;
  }
}

.rating-container {
  border: 1px solid #eee;
  padding: 15px;
  border-radius: 10px;
}

.rating-summary {
  font-size: 18px;
  font-weight: 600;
  color: #f39c12;
  text-align: center;
}

.rating-bar {
  display: flex;
  align-items: center;
  gap: 5px;
  margin: 3px 0;
}
.rating-bar progress {
  flex: 1;
  height: 10px;
  border-radius: 5px;
}
.stars i {
  font-size: 24px;
  color: #ccc;
  cursor: pointer;
}
.stars i.selected,
.stars i:hover,
.stars i:hover ~ i {
  color: #f39c12;
}
</style>

        </main>
          <!-- Footer Placeholder -->
        <div id="footer-placeholder"></div>
        <script src="./assets/js/include.js"></script>
        <script src="./assets/js/info.js"></script>
        <script src="./assets/js/search.js"></script>
        <script src="./assets/js/user.js"></script>
    </body>
</html>
