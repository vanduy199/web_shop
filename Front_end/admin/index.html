<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Trang quản trị</title>
    <!-- Reset CSS -->
    <link rel="stylesheet" href="../assets/css/reset.css" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Site CSS -->
    <link rel="stylesheet" href="../assets/css/styles.css" />
    <link rel="stylesheet" href="../assets/css/admin.css" />
    <link rel="stylesheet" href="../assets/css/responsive.css" />
  </head>
  <body>
    <div id="message"></div>

    <header class="col-md-10 offset-md-2" id="title-page">
      <button class="btn btn-primary" id="sidebar_toggle" aria-label="Toggle sidebar">
        <i class="fa fa-fw fa-bars"></i>
      </button>
      <div style="margin-top: 5px"><h2>Trang Chủ</h2></div>
    </header>

  <nav class="sidebar" id="nav">
    <a href="/Front_end/index.html">
      <div class="nav__content">
        <span><em style="font-style: italic;">PHAICHIU</em></span>
        <i class="fa-regular fa-circle-xmark" id="sidebar_close" title="Close sidebar"></i>
      </div>
    </a>     



      <ul class="nav nav-pills flex-column nav__list">
        <li class="nav__item">
          <div class="nav-link nav__link active">
            <i class="fa-solid fa-house nav__icon"></i>
            <span>Trang Chủ</span>
          </div>
        </li>
        <div class="nav__heading">QUẢN LÝ BANNERS</div>
        <li class="nav__item">
          <div class="nav-link nav__link nav__banners">
            <i class="fa-solid fa-images nav__icon"></i>
            <span>Banners</span>
          </div>
        </li> 
        <div class="nav__heading">QUẢN LÝ SẢN PHẨM</div>
        
        <li class="nav__item">
          <div class="nav-link nav__link nav__product">
            <i class="fa-solid fa-bag-shopping nav__icon"></i>
            <span>Sản Phẩm</span>
          </div>
        </li>

        <div class="nav__heading">QUẢN LÝ ĐƠN HÀNG</div>
        <li class="nav__item">
          <div class="nav-link nav__link">
            <i class="fa-solid fa-cart-shopping nav__icon"></i>
            <span>Đơn Hàng</span>
          </div>
        </li>

        <div class="nav__heading">NGƯỜI DÙNG</div>
        <li class="nav__item">
          <div class="nav-link nav__link">
            <i class="fa-solid fa-user nav__icon"></i>
            <span>Khách Hàng</span>
          </div>
        </li>

        <div class="nav__heading">KHÁC</div>
        <li class="nav__item" data-target="reviews-pane">
          <div class="nav-link nav__link">
            <i class="fa-solid fa-comments nav__icon"></i>
            <span>Reviews</span>
          </div>
        </li>
        <li class="nav__item" data-target="support-pane">
          <div class="nav-link nav__link">
            <i class="fa-solid fa-headset nav__icon"></i>
            <span>Hỗ Trợ User</span>
          </div>
        </li>
        <li class="nav__item">
          <div class="nav-link nav__link">
            <i class="fa-solid fa-triangle-exclamation nav__icon"></i>
            <span>Báo Lỗi</span>
          </div>
        </li>
        <li class="nav__item" onclick="logout()">
          <div class="nav-link nav__link">
            <i class="fa fa-sign-out nav__icon"></i>
            <span>Đăng Xuất</span>
          </div>
        </li>
      </ul>
    </nav>


    <main class="col-md-10 offset-md-2">
      <div class="item-content">
        <div class="item-pane active" id="home-pane">
          <div class="container">Chào mừng đến với trang quản trị!</div>
        </div>

        
       <div class="item-pane banners-management" id="banners-pane">
  <div class="col py-3 px-5">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h2 class="section__heading">QUẢN LÝ BANNERS (4 VỊ TRÍ CỐ ĐỊNH)</h2>
    </div>

    <div class="row g-3" id="banner-slots">
      <!-- Top -->
      <div class="col-md-3 col-6">
        <div class="card p-3 text-center">
          <h6 class="mb-2">Top</h6>
          <img id="slot-top-img" src="../assets/img/placeholder.png" class="img-fluid mb-2 slot-img" alt="Top">
          <div>
            <button class="btn btn-sm btn-primary btn-select-slot" data-pos="homepage_top">Chọn ảnh</button>
            <button class="btn btn-sm btn-danger btn-clear-slot" data-pos="homepage_top">Gỡ ảnh</button>
          </div>
          <div class="small text-muted mt-2" id="slot-homepage_top-info"></div>
        </div>
      </div>

      <!-- Left -->
      <div class="col-md-3 col-6">
        <div class="card p-3 text-center">
          <h6 class="mb-2">Left</h6>
          <img id="slot-left-img" src="../assets/img/placeholder.png" class="img-fluid mb-2 slot-img" alt="Left">
          <div>
            <button class="btn btn-sm btn-primary btn-select-slot" data-pos="homepage_mid_left">Chọn ảnh</button>
            <button class="btn btn-sm btn-danger btn-clear-slot" data-pos="homepage_mid_left">Gỡ ảnh</button>
          </div>
          <div class="small text-muted mt-2" id="slot-homepage_mid_left-info"></div>
        </div>
      </div>

      <!-- Mid -->
      <div class="col-md-3 col-6">
        <div class="card p-3 text-center">
          <h6 class="mb-2">Mid</h6>
          <img id="slot-mid-img" src="../assets/img/placeholder.png" class="img-fluid mb-2 slot-img" alt="Mid">
          <div>
            <button class="btn btn-sm btn-primary btn-select-slot" data-pos="homepage_mid_center">Chọn ảnh</button>
            <button class="btn btn-sm btn-danger btn-clear-slot" data-pos="homepage_mid_center">Gỡ ảnh</button>
          </div>
          <div class="small text-muted mt-2" id="slot-homepage_mid_center-info"></div>
        </div>
      </div>

      <!-- Right -->
      <div class="col-md-3 col-6">
        <div class="card p-3 text-center">
          <h6 class="mb-2">Right</h6>
          <img id="slot-right-img" src="../assets/img/placeholder.png" class="img-fluid mb-2 slot-img" alt="Right">
          <div>
            <button class="btn btn-sm btn-primary btn-select-slot" data-pos="homepage_mid_right">Chọn ảnh</button>
            <button class="btn btn-sm btn-danger btn-clear-slot" data-pos="homepage_mid_right">Gỡ ảnh</button>
          </div>
          <div class="small text-muted mt-2" id="slot-homepage_mid_right-info"></div>
        </div>
      </div>
    </div>

    <!-- Selection / Upload panel (ẩn theo mặc định) -->
    <div id="banner-selection-panel" style="display:none; margin-top:20px;">
      <div class="card p-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h5 id="selection-panel-title">Chọn ảnh cho vị trí</h5>
          <button id="selection-cancel" class="btn btn-sm btn-secondary">Hủy</button>
        </div>

        <div class="mb-3">
          <label class="form-label">Ảnh hiện có (chọn một)</label>
          <div id="selection-thumbs" class="d-flex flex-wrap gap-2"></div>
        </div>

        <div class="mb-3">
          <label class="form-label">Hoặc upload ảnh mới</label>
          <input id="selection-upload" type="file" accept="image/*" class="form-control" />
        </div>

        <div class="d-flex gap-2">
          <button id="selection-apply" class="btn btn-primary">Áp dụng</button>
          <button id="selection-upload-and-apply" class="btn btn-success">Upload & Áp dụng</button>
        </div>
      </div>
    </div>

  </div>
</div>

        <div class="item-pane item-pane__product" id="product-pane">
          <div class="col py-3 px-5 brand__inner">
            <h2 class="section__heading">DANH MỤC SẢN PHẨM</h2>
            <div class="brand__group-logo">
              <div class="col-6 col-md-3">
                <div class="category-card">
                  <img src="../assets/img/dien_thoai_icon.webp" alt="Điện thoại" />
                  <p>Điện thoại</p>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="category-card">
                  <img src="../assets/img/laptop_icon.webp" alt="Laptop" />
                  <p>Laptop</p>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="category-card">
                  <img src="../assets/img/may_tinh_bang_icon.webp" alt="Máy tính bảng" />
                  <p>Máy tính bảng</p>
                </div>
              </div>
              <div class="col-6 col-md-3">
                <div class="category-card">
                  <img src="../assets/img/phu_kien_icon.webp" alt="Phụ kiện" />
                  <p>Phụ kiện</p>
                </div>
              </div>
            </div>
            <div id="sub-filters" class="row mt-4"></div>
                      <div class="tab-products__add">
            <div class="dieuhuong">
              <button class="btn btn-lg btn-info button" id="products__abs-btn">Sản phẩm có quảng cáo</button>
              <button class="btn btn-lg btn-info button" id="products__noabs-btn">Sản phẩm không có quảng cáo</button>
              <button class="btn btn-lg btn-info button" id="products__add-btn">Thêm Sản Phẩm</button>
            </div>
          </div>



            <div id="overlay" class="overlay">
              <form class="products__add-info form" id="productForm">
                <span class="close-btn">&times;</span>
                <label for="productName" class="label">Tên Sản Phẩm</label>
                <input type="text" id="productName" name="name" required class="input" />

                <label for="productType" class="label">Loại Sản Phẩm</label>
                <select name="phanloai" id="productType" class="select" required>
                  <option selected disabled>Chọn</option>
                  <option value="phone">Phone</option>
                  <option value="laptop">Laptop</option>
                  <option value="tablet">Máy tính bảng</option>
                  <option value="pinduphong">Pin dự phòng</option>
                  <option value="capsac">Cáp sạc</option>
                  <option value="tainghe">Tai nghe</option>
                  <option value="flycam">Fly cam</option>
                </select>

                <label for="productPrice" class="label">Giá</label>
                <input type="number" id="productPrice" name="price" required class="input" min="0" />

                <label for="productBrand" class="label">Thương hiệu</label>
                <input type="text" id="productBrand" name="brand" class="input" />

                <label for="productReleaseDate" class="label">Ngày ra mắt</label>
                <input type="text" id="productReleaseDate" name="release_date" class="input" />

                <label for="productThumb" class="label">Ảnh đại diện</label>
                <input type="file" id="productThumb" name="thumb" required class="input" accept="image/*" />
                <div id="thumbPreview" style="margin-top: 10px;"></div>

                <label for="productMainImage" class="label">Ảnh chính</label>
                <input type="file" id="productMainImage" name="main_image" class="input" accept="image/*" />
                <div id="mainImagePreview" style="margin-top: 10px;"></div>

                <div id="attributes">
                  <label class="label">Thuộc tính sản phẩm</label>
                  <div class="attribute-row">
                    <input type="text" placeholder="Tên thuộc tính" name="attributes[0].key" class="attr-key input" />
                    <input type="text" placeholder="Giá trị" name="attributes[0].value" class="attr-value input" />
                    <input type="text" placeholder="Loại cấu hình" name="attributes[0].loai_cau_hinh" class="attr-type input" />
                    <button type="button" class="remove-attr btn btn-danger btn-sm">X</button>
                  </div>
                  <button type="button" id="add-attribute-btn" class="btn btn-success btn-sm mt-2">Thêm thuộc tính</button>
                </div>

                <div id="images">
                  <label class="label">Ảnh sản phẩm</label>
                  <div class="image-row">
                    <input type="text" placeholder="URL ảnh" name="images[0].img" class="image-input input" />
                    <button type="button" class="remove-img btn btn-danger btn-sm">X</button>
                  </div>
                  <button type="button" id="add-image-btn" class="btn btn-success btn-sm mt-2">Thêm ảnh</button>
                  <div id="imagesPreview" style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px;"></div>
                </div>

                <label class="label">Khuyến mãi (%)</label>
                <input type="number" name="promotion.percent_abs" class="input" min="0" max="100" />

                <label class="label">Ngày bắt đầu khuyến mãi</label>
                <input type="datetime-local" name="promotion.start_time" class="input" />

                <label class="label">Ngày kết thúc khuyến mãi</label>
                <input type="datetime-local" name="promotion.end_time" class="input" />

                <button class="btn btn-lg btn-info button" id="addBtn" style="padding: 12px">Thêm</button>
                <div id="Trạng thái"></div>
              </form>
            </div>
            <div id="tab-products"></div>
          </div>
        </div>

        <div class="item-pane orders-management" id="orders-pane">
          <table class="table table-hover table-sm mt-3 table-striped">
            <thead class="table-dark">
              <tr>
                <th class="mobile-none">Mã đơn hàng</th>
                <th>Ngày tạo</th>
                <th class="mobile-none">Khách hàng</th>
                <th>Trạng thái</th>
                <th>Thanh toán</th>
                <th class="mobile-none">Giao hàng</th>
                <th>Tổng tiền</th>
                <th>Thao tác</th>
              </tr>
            </thead>
            <tbody class="orders-management__content"></tbody>
          </table>
        </div>

        <div class="item-pane customers-management" id="customers-pane">
          <div class="container py-3">
            <h2 class="section__heading">DANH SÁCH KHÁCH HÀNG</h2>
            <div class="row g-2 align-items-end mt-2 mb-3">
              <div class="col-sm-4">
                <label class="form-label">Sắp xếp theo</label>
                <select id="users-sort-by" class="form-select">
                  <option value="name">Tên</option>
                  <option value="full_name">Họ tên</option>
                  <option value="created_at">Ngày tạo</option>
                  <option value="updated_at">Ngày sửa</option>
                  <option value="orders_count">Số đơn hàng</option>
                </select>
              </div>
              <div class="col-sm-3">
                <label class="form-label">Thứ tự</label>
                <select id="users-order" class="form-select">
                  <option value="asc">Tăng dần</option>
                  <option value="desc">Giảm dần</option>
                </select>
              </div>
              <div class="col-sm-3">
                <button id="users-refresh" class="btn btn-primary w-100">Tải lại</button>
              </div>
            </div>

            <div class="table-responsive">
              <table class="table table-hover table-sm table-striped">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Tên</th>
                    <th>SĐT</th>
                    <th>Email</th>
                    <th>Vai trò</th>
                    <th>Ngày tạo</th>
                    <th>Số đơn hàng</th>
                  </tr>
                </thead>
                <tbody id="customers-table-body"></tbody>
              </table>
            </div>
            <div id="customers-empty" class="text-muted" style="display:none;">Không có dữ liệu.</div>
          </div>
        </div>

        <div class="item-pane" id="reviews-pane">
          <div class="container py-3">
            <h3 class="mb-3">Quản Lý Reviews</h3>
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead class="table-dark">
                  <tr>
                    <th>#ID</th>
                    <th>Sản Phẩm</th>
                    <th>Người Dùng</th>
                    <th>Đánh Giá</th>
                    <th>Nội Dung</th>
                    <th>Ngày Gửi</th>
                    <th>Trạng Thái</th>
                    <th>Hành Động</th>
                  </tr>
                </thead>
                <tbody id="reviews-table-body" class="reviews-management__content">
                  <tr><td colspan="8" style="text-align:center;">Đang tải...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="item-pane" id="support-pane">
          <div id="support-root" class="container py-3">Nội dung hỗ trợ user</div>
        </div>

        <div class="item-pane" id="report-pane">
          <div class="container">Báo lỗi hệ thống</div>
        </div>

        <div class="item-pane" id="logout-pane">
          <div class="container">Đăng xuất thành công</div>
        </div>
      </div>
    </main>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <!-- Site JS -->
    <script src="../assets/js/user.js"></script>
    <script src="../assets/js/admin.js"></script>
    <script src="../assets/js/orders_main.js"></script>
    <script src="../assets/js/reviews_admin.js"></script>
    <script src="../assets/js/support-admin.js"></script>
    <script src="../assets/js/banners_admin.js"></script>
   

  </body>
</html>